from pwn import *

host = 'mars.picoctf.net'
port = 31021

elf = ELF('./chall')

context.binary = elf
context.terminal = ['tmux', 'splitw', '-v']

gdb_script = '''
b main
'''

# gadgets

# plt
## elf.plt, elf.symbols

# got
## elf.got

# libc

# one_gadget

def conn():
    if args.EXPLOIT:
        r = remote(host, port)
    else:
        if args.LD_PRELOAD:
            import os
            r = process([elf.path], env={**os.environ, "LD_PRELOAD": args.LD_PRELOAD})
        else:
            r = process([elf.path])
        if args.GDB:
            gdb.attach(r, gdb_script)
    return r

def solve(r):
    pass

def flag(r):
    pass

if __name__ == '__main__':
    r = conn()
    solve(r)
    if args.FLAG:
        flag(r)
        r.close()
    else:
        r.interactive()